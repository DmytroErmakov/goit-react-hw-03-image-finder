{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROZUMNIKI\\\\Documents\\\\GitHub\\\\goit-react-hw-03-image-finder\\\\src\\\\components\\\\App.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button';\nimport { Loader } from './Loader/Loader';\nimport { Modal } from './Modal/Modal';\nimport styles from './App.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      images: [],\n      isLoading: false,\n      currentSearch: '',\n      page: 1,\n      modalOpen: false,\n      modalImg: '',\n      modalAlt: ''\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      const inputForSearch = event.target.elements.inputForSearch;\n\n      if (inputForSearch.value.trim() === '') {\n        return;\n      }\n\n      const response = await this.fetchImage(inputForSearch.value, 1);\n      this.setState({\n        images: response,\n        isLoading: false,\n        currentSearch: inputForSearch.value,\n        page: 1\n      });\n    };\n\n    this.handleClickMore = async () => {\n      const response = await this.fetchImage(this.state.currentSearch, this.state.page + 1);\n      this.setState({\n        images: [...this.state.images, ...response],\n        page: this.state.page + 1\n      });\n    };\n\n    this.handleImageClick = event => {\n      this.setState({\n        modalOpen: true,\n        modalAlt: event.target.alt,\n        modalImg: event.target.name\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        modalOpen: false,\n        modalImg: '',\n        modalAlt: ''\n      });\n    };\n\n    this.handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        this.handleModalClose();\n      }\n    };\n\n    this.fetchImage = async (inputValue, page) => {\n      const URL = 'https://pixabay.com/api';\n      const apiKey = '36761808-85f8f6dd9a9f7c71c5d90744b';\n      const response = await axios.get(`${URL}/?q=${inputValue}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`);\n      return response.data.hits.map(image => {\n        return {\n          id: image.id,\n          webformatURL: image.webformatURL,\n          largeImageURL: image.largeImageURL,\n          tags: image.tags\n        };\n      });\n    };\n  }\n\n  async componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.App,\n      children: [this.state.isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n          onSubmit: this.handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n          onImageClick: this.handleImageClick,\n          images: this.state.images\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), this.state.images.length > 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.handleClickMore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true), this.state.modalOpen ? /*#__PURE__*/_jsxDEV(Modal, {\n        image: this.state.modalImg,\n        alt: this.state.modalAlt,\n        handleClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/ROZUMNIKI/Documents/GitHub/goit-react-hw-03-image-finder/src/components/App.jsx"],"names":["React","axios","Searchbar","ImageGallery","Button","Loader","Modal","styles","App","Component","state","images","isLoading","currentSearch","page","modalOpen","modalImg","modalAlt","handleSubmit","event","preventDefault","setState","inputForSearch","target","elements","value","trim","response","fetchImage","handleClickMore","handleImageClick","alt","name","handleModalClose","handleKeyDown","code","inputValue","URL","apiKey","get","data","hits","map","image","id","webformatURL","largeImageURL","tags","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Searchbar } from './Searchbar/Searchbar';\r\nimport { ImageGallery } from './ImageGallery/ImageGallery';\r\nimport { Button } from './Button/Button';\r\nimport { Loader } from './Loader/Loader';\r\nimport { Modal } from './Modal/Modal';\r\nimport styles from './App.module.css';\r\n\r\nexport class App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    isLoading: false,\r\n    currentSearch: '',\r\n    page: 1,\r\n    modalOpen: false,\r\n    modalImg: '',\r\n    modalAlt: '',\r\n  };\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    this.setState({ isLoading: true });\r\n    const inputForSearch = event.target.elements.inputForSearch;\r\n\r\n    if (inputForSearch.value.trim() === '') {\r\n      return;\r\n    }\r\n    const response = await this.fetchImage(inputForSearch.value, 1);\r\n    this.setState({\r\n      images: response,\r\n      isLoading: false,\r\n      currentSearch: inputForSearch.value,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleClickMore = async () => {\r\n    const response = await this.fetchImage(\r\n      this.state.currentSearch,\r\n      this.state.page + 1\r\n    );\r\n    this.setState({\r\n      images: [...this.state.images, ...response],\r\n      page: this.state.page + 1,\r\n    });\r\n  };\r\n\r\n  handleImageClick = event => {\r\n    this.setState({\r\n      modalOpen: true,\r\n      modalAlt: event.target.alt,\r\n      modalImg: event.target.name,\r\n    });\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.setState({\r\n      modalOpen: false,\r\n      modalImg: '',\r\n      modalAlt: '',\r\n    });\r\n  };\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.handleModalClose();\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  fetchImage = async (inputValue, page) => {\r\n    const URL = 'https://pixabay.com/api';\r\n    const apiKey = '36761808-85f8f6dd9a9f7c71c5d90744b';\r\n\r\n    const response = await axios.get(\r\n      `${URL}/?q=${inputValue}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n    );\r\n\r\n    return response.data.hits.map(image => {\r\n      return {\r\n        id: image.id,\r\n        webformatURL: image.webformatURL,\r\n        largeImageURL: image.largeImageURL,\r\n        tags: image.tags,\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.App}>\r\n        {this.state.isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            <Searchbar onSubmit={this.handleSubmit} />\r\n            <ImageGallery\r\n              onImageClick={this.handleImageClick}\r\n              images={this.state.images}\r\n            />\r\n            {this.state.images.length > 0 ? (\r\n              <Button onClick={this.handleClickMore} />\r\n            ) : null}\r\n          </>\r\n        )}\r\n        {this.state.modalOpen ? (\r\n          <Modal\r\n            image={this.state.modalImg}\r\n            alt={this.state.modalAlt}\r\n            handleClose={this.handleModalClose}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}