{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROZUMNIKI\\\\Documents\\\\GitHub\\\\goit-react-hw-03-image-finder\\\\src\\\\components\\\\App.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button';\nimport { Loader } from './Loader/Loader';\nimport { Modal } from './Modal/Modal';\nimport styles from './App.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      images: [],\n      isLoading: false,\n      currentSearch: '',\n      page: 1,\n      modalOpen: false,\n      modalImg: '',\n      modalAlt: '',\n      error: null\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      const inputValue = event.target.elements.inputForSearch.value;\n\n      if (inputValue.value.trim() === '') {\n        return;\n      }\n\n      const response = await this.fetchImage(inputValue, 1);\n      this.setState({\n        images: response,\n        currentSearch: inputValue,\n        isLoading: false,\n        page: 1\n      });\n    };\n\n    this.handleClickMore = async () => {\n      const response = await this.fetchImage(this.state.currentSearch, this.state.page + 1);\n      this.setState(prevState => ({\n        images: [...prevState.images, ...response],\n        page: prevState.page + 1\n      }));\n    };\n\n    this.handleImageClick = event => {\n      this.setState({\n        modalOpen: true,\n        modalAlt: event.target.alt,\n        modalImg: event.target.name\n      });\n    };\n\n    this.handleModalClose = () => {\n      this.setState({\n        modalOpen: false,\n        modalImg: '',\n        modalAlt: ''\n      });\n    };\n\n    this.handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        this.handleModalClose();\n      }\n    };\n\n    this.fetchImage = async (inputValue, page) => {\n      const URL = 'https://pixabay.com/api';\n      const apiKey = '36761808-85f8f6dd9a9f7c71c5d90744b';\n\n      try {\n        const response = await axios.get(`${URL}/?q=${inputValue}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`);\n        return response.data.hits.map(image => ({\n          id: image.id,\n          webformatURL: image.webformatURL,\n          largeImageURL: image.largeImageURL,\n          tags: image.tags\n        }));\n      } catch (error) {\n        this.setState({\n          error: error\n        });\n      } finally {\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    const {\n      images,\n      isLoading,\n      modalOpen,\n      modalImg,\n      modalAlt\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.App,\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n          onSubmit: this.handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n          onImageClick: this.handleImageClick,\n          images: images\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.handleClickMore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true), modalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n        image: modalImg,\n        alt: modalAlt,\n        onClose: this.handleModalClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/ROZUMNIKI/Documents/GitHub/goit-react-hw-03-image-finder/src/components/App.jsx"],"names":["React","axios","Searchbar","ImageGallery","Button","Loader","Modal","styles","App","Component","state","images","isLoading","currentSearch","page","modalOpen","modalImg","modalAlt","error","handleSubmit","event","preventDefault","setState","inputValue","target","elements","inputForSearch","value","trim","response","fetchImage","handleClickMore","prevState","handleImageClick","alt","name","handleModalClose","handleKeyDown","code","URL","apiKey","get","data","hits","map","image","id","webformatURL","largeImageURL","tags","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Searchbar } from './Searchbar/Searchbar';\r\nimport { ImageGallery } from './ImageGallery/ImageGallery';\r\nimport { Button } from './Button/Button';\r\nimport { Loader } from './Loader/Loader';\r\nimport { Modal } from './Modal/Modal';\r\nimport styles from './App.module.css';\r\n\r\nexport class App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    isLoading: false,\r\n    currentSearch: '',\r\n    page: 1,\r\n    modalOpen: false,\r\n    modalImg: '',\r\n    modalAlt: '',\r\n    error: null,\r\n  };\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    this.setState({ isLoading: true });\r\n    const inputValue = event.target.elements.inputForSearch.value;\r\n\r\n    if (inputValue.value.trim() === '') {\r\n      return;\r\n    }\r\n    const response = await this.fetchImage(inputValue, 1);\r\n    this.setState({\r\n      images: response,\r\n      currentSearch: inputValue,\r\n      isLoading: false,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleClickMore = async () => {\r\n    const response = await this.fetchImage(\r\n      this.state.currentSearch,\r\n      this.state.page + 1\r\n    );\r\n    this.setState(prevState => ({\r\n      images: [...prevState.images, ...response],\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  handleImageClick = event => {\r\n    this.setState({\r\n      modalOpen: true,\r\n      modalAlt: event.target.alt,\r\n      modalImg: event.target.name,\r\n    });\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.setState({\r\n      modalOpen: false,\r\n      modalImg: '',\r\n      modalAlt: '',\r\n    });\r\n  };\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.handleModalClose();\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  fetchImage = async (inputValue, page) => {\r\n    const URL = 'https://pixabay.com/api';\r\n    const apiKey = '36761808-85f8f6dd9a9f7c71c5d90744b';\r\n    try {\r\n      const response = await axios.get(\r\n        `${URL}/?q=${inputValue}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n      );\r\n\r\n      return response.data.hits.map(image => ({\r\n        id: image.id,\r\n        webformatURL: image.webformatURL,\r\n        largeImageURL: image.largeImageURL,\r\n        tags: image.tags,\r\n      }));\r\n    } catch (error) {\r\n      this.setState({ error: error });\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, modalOpen, modalImg, modalAlt } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            <Searchbar onSubmit={this.handleSubmit} />\r\n            <ImageGallery\r\n              onImageClick={this.handleImageClick}\r\n              images={images}\r\n            />\r\n            {images.length > 0 && <Button onClick={this.handleClickMore} />}\r\n          </>\r\n        )}\r\n        {modalOpen && (\r\n          <Modal\r\n            image={modalImg}\r\n            alt={modalAlt}\r\n            onClose={this.handleModalClose}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}